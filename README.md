# [IDW Demo](https://kalyanov.github.io/idw/)

[Демо](https://kalyanov.github.io/idw/) интерполяционного алгоритма [обратных взвешенных расстояний](https://en.wikipedia.org/wiki/Inverse_distance_weighting) (IDW)

## Панель опций

Чтобы изменения в панели опций применились, нужно нажать `#redraw` внизу панели опция, но этот метод не перегенерирует данные, для перегенерации нужно использовать метод `#regenerate`

### «Data»

Конфигурация исходного набора данных для алгоритма IDW.

-   `data` — включение режима генерации данных либо выбор название предгенерированного набора. При изменении этого параметра демо обноситься автоматически.

    -   `generate` — данные будут сгенерированы случайным образом в соответствии с остальными параметрами этого раздела
    -   `100-points-500x500` — набор из 100 точек для канваса 500х500 с равномерным распределением значений и координат
    -   `500-points-500x500-normal` — набор из 500 для канваса 500х500 точек с нормальным распределением значений и равномерным распределением координат
    -   `1000-points-500x500` — набор из 1000 точек для канваса 500х500 с равномерным распределением значений и координат

-   `pointsCount` — количество точек данных для генерации
-   `minValue` — минимальное значение для генерации данных
-   `maxValue` — максимальное значение для генерации данных
-   `valueDist` — тип случайного распределения значений генерируемых данных
-   `coordsDist` — тип случайного распределения координат генерируемых данных
-   `#regenerate` — перегенерирует данные с заданными параметрами

### «Data aggregation»

Конфигурация сетки агрегации исходных данных

-   `aggregate` — если включено то при перерисовке данные будут агрегированы по сетке
-   `gridSize` — размер ячейки сетки в пикселях
-   `minPointsInGrid` — минимальное количество точек в ячейке сетки, ячейки с меньшим количеством игнорируются при агрегации

### «IDW»

Параметры алгоритма [IDW](https://en.wikipedia.org/wiki/Inverse_distance_weighting)

-   `type` — выбор типа алгоритма

    -   `modified` — алгоритм с модифицированной формулой веса с радиусом `radius`
    -   `base` — алгоритм с базовой формулой веса со степенью `power`

-   `radius` — радиус для `modified` алгоритма
-   `power` — степень для `base` алгоритма

### «Palette»

Параметры расчета палитры. Метод k-средних взят из пакета [skmeans](https://github.com/solzimer/skmeans).

-   `colorScheme` — название цветовой палитры из [d3-scale-chromatic](https://github.com/d3/d3-scale-chromatic)
-   `isReversed` — если включен, палитра будет развернута в обратном направлении
-   `isDiscrete` — если включен, палитра будет дискретной
-   `colorCount` — количество цветов палитры, имеет смысл только для дискретной палитры
-   `algorithm` — выбор алгоритма для построения дискретной цветовой палитры

    -   `byValues` — делит интервал значений на равные отрезки
    -   `byCount` — делит интервал значений на отрезки так, чтобы в каждый интервал попало примерно равное количество данных
    -   `kMeansByValues` — рассчитывает центройды методом k-средних, начальные центройд для него считает алгоритмом `byValues`
    -   `kMeansByCount` — рассчитывает центройды методом k-средних, начальные центройд для него считает алгоритмом `byСount`
    -   `kmrand` — рассчитывает центройды методом k-средних, начальные центройд для него считает алгоритмом `kmrand` из пакета [skmeans](https://github.com/solzimer/skmeans#api)
    -   `kmpp` — рассчитывает центройды методом k-средних, начальные центройд для него считает алгоритмом `kmpp` из пакета [skmeans](https://github.com/solzimer/skmeans#api)

### «Density»

Параметры расчета контура плотности данных. Использует метод [density](https://github.com/d3/d3-contour#_density) пакета [d3-contour](https://github.com/d3/d3-contour)

-   `bandwidth` — [среднеквадратичное отклонение ядра Гаусса](https://github.com/d3/d3-contour#density_bandwidth)
-   `threshold` — контур плотности будут сгенерированы в соответствии с этим [пороговым значением](https://github.com/d3/d3-contour#density_thresholds)
-   `pixelsInGridUnit` — количество пикселей в ячейке сетки контура плотности, нуден для расчета [размерности сетки](https://github.com/d3/d3-contour#density_size)
-   `densityColor` — цвет отрисовки контура плотности

### «View»

Переключает визуальные состояние демки.

-   `showContours` — контуры плотности данных
-   `showPoints` — точки данных
-   `showValues` — значения в точках данных
-   `showGrid` — сетка агрегации данных
-   `showLegend` — легенда цветовой палитры
-   `applyContours` — перегенерирует демо и применяет контур плотности

### Методы

-   `#redraw` — перерисовывает демо с учетом все опций кроме опций «Data» генерации данных
-   `#regenerate` — перегенерирует данные и перерисовывает демо ч учетом всех опций
